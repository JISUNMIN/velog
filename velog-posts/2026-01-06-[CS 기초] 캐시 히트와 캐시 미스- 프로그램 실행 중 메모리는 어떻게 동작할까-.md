<h3 id="컴퓨터-구조">컴퓨터 구조</h3>
<p>프로그램이 실행된 이후<br /><strong>CPU와 메모리가 실제로 어떻게 상호작용하는지</strong> 정리해봤습니다.</p>
<p><img alt="" src="https://velog.velcdn.com/images/sunmins/post/b6051006-be79-4602-8d78-ed7b11affe0c/image.png" /></p>
<hr />
<h2 id="프로그램-실행-전-상태">프로그램 실행 전 상태</h2>
<ul>
<li>운영체제(OS)는 <strong>이미 RAM(메모리)에 적재</strong>되어 있음</li>
<li>설명 대상이 되는 프로그램은 실행이 시작되어 RAM에 적재된 상태</li>
<li>ROM(BIOS/UEFI)은 <strong>부팅 시 저장장치(SSD/HDD)에 있는 OS를 RAM으로 올려줌</strong></li>
<li>사용자 프로그램은 <strong>실행 시점에 운영체제가 RAM으로 적재</strong></li>
<li>CPU는 이 시점에서 <strong>연산만 담당</strong>하며, 메모리 관리는 하지 않음</li>
</ul>
<pre><code class="language-text">저장장치(SSD/HDD)
→ RAM (OS + 실행 중인 프로그램)

저장장치에 있던 OS/프로그램 파일을
실행하기 위해 RAM으로 복사해서 올림
</code></pre>
<h2 id="cpu는-어떻게-데이터를-사용하는가">CPU는 어떻게 데이터를 사용하는가?</h2>
<p>CPU는 <strong>RAM의 데이터를 직접 연산하지 않는다.</strong><br />연산은 반드시 <strong>CPU 내부의 레지스터</strong>에서만 수행된다.</p>
<p>캐시(Cache)는<br /><strong>RAM과 레지스터 사이에서 레지스터에 값을 빠르게 공급하기 위한 중간 계층</strong>이다.<br />자주 사용할 것 같은 데이터를 <strong>미리 CPU 가까이에 두는 역할</strong>을 한다.</p>
<p>캐시에는 연산에 사용할 <strong>데이터 값</strong>, 주소 정보(태그), 상태 정보 등이 저장되며,
  <strong>실제 연산은 반드시 레지스터를 거쳐 수행된다.</strong></p>
<pre><code class="language-text">[ 태그 | 데이터(64B) | 상태 ]</code></pre>
<pre><code class="language-text">메모리(RAM)
   ↓
CPU 캐시 (L3 → L2 → L1)
   ↓
레지스터
   ↓
연산(ALU)</code></pre>
<hr />
<h2 id="캐시-히트cache-hit">캐시 히트(cache Hit)</h2>
<p>CPU가 어떤 메모리 주소의 데이터를 필요로 할 때
<strong>이미 캐시에 데이터가 있는 경우</strong>를 말한다.</p>
<p>즉, <strong>CPU가 기다리지 않고 바로 연산할 수 있는 상태</strong>이다</p>
<h3 id="동작-흐름">동작 흐름</h3>
<pre><code class="language-text">캐시 확인
↓
캐시에 있음
→ 캐시(L3 → L2 → L1)
→ 레지스터
→ ALU 연산
→ 레지스터
→ 캐시</code></pre>
<ul>
<li>메모리(RAM) 접근 없음 </li>
<li>매우 빠르고 성능이 좋음</li>
<li>CPU 내부에서만 처리됨</li>
</ul>
<h2 id="캐시-미스cache-miss">캐시 미스(Cache Miss)</h2>
<p>CPU가 필요한 데이터를 <strong>캐시에서 찾지 못한 경우</strong>이다.
이때는 메모리 접근이 필요하므로 <strong>대기 시간이 발생</strong>한다.</p>
<h3 id="동작-흐름-1">동작 흐름</h3>
<pre><code class="language-text">캐시 확인
↓
캐시에 없음
→ 메모리(RAM)
→ 캐시(L3 → L2 → L1)
→ 레지스터
→ ALU 연산
→ 레지스터
→ 캐시
(메모리는 나중에 갱신)</code></pre>
<ul>
<li>메모리(RAM) 접근 발생</li>
<li>캐시 히트보다 느리고 성능이 떨어짐</li>
</ul>
<h3 id="캐시-미스라고-해서-연산-후-바로-쓰는-것은-아니다">캐시 미스라고 해서 연산 후 바로 쓰는 것은 아니다.</h3>
<p>대부분의 CPU는 write-back 캐시를 사용한다. </p>
<ul>
<li>연산 결과는 <strong>캐시에 먼저 반영</strong></li>
<li>메모리는 <strong>필요할때만 갱신</strong></li>
</ul>
<hr />
<h2 id="✅-정리">✅ 정리</h2>
<ul>
<li>운영체제(OS)는 부팅 과정에서 RAM에 적재되며,
사용자 프로그램은 실행 시 운영체제에 의해 RAM에 적재된다.</li>
<li>CPU는 <strong>레지스터에서만</strong> 연산을 수행한다.</li>
<li>캐시는 RAM과 레지스터 사이에서
<strong>레지스터에 데이터를 빠르게 공급하기 위한 중간 계층</strong>이다.</li>
<li>캐시 히트는 메모리 접근 없이 연산이 가능해 대기 시간이 발생하지 않는다.</li>
<li>캐시 미스는 메모리 접근이 필요해 CPU 대기 시간이 발생한다.</li>
<li>대부분의 CPU는 write-back 캐시를 사용하므로,
연산 결과는 즉시 메모리에 쓰이지 않고 캐시에 먼저 반영된다.</li>
</ul>