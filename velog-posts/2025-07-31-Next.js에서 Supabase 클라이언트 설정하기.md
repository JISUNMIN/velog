μ μ € ν”„λ΅ν•„ μ΄λ―Έμ§€ μ—…λ΅λ“ API κµ¬ν„μ— μ•μ„, Supabase ν΄λΌμ΄μ–ΈνΈ μ„¤μ •κ³Ό ν™κ²½λ³€μ μ„Έν… λ°©λ²•μ„ μ •λ¦¬ν–μµλ‹λ‹¤.

---

## 1. supabase-js λΌμ΄λΈλ¬λ¦¬ μ„¤μΉ

```bash
npm install @supabase/supabase-js
```

## 2. lib/supabase.ts νμΌ λ§λ“¤κΈ°
ν”„λ΅μ νΈ λ£¨νΈ λλ” src/lib ν΄λ”μ— supabase.ts νμΌμ„ μƒμ„±ν•κ³  λ‹¤μκ³Ό κ°™μ΄ μ‘μ„±ν•©λ‹λ‹¤.

```ts
import { createClient } from '@supabase/supabase-js'

export const supabase = createClient(
  process.env.NEXT_PUBLIC_SUPABASE_URL!,
  process.env.SUPABASE_SERVICE_ROLE_KEY! // μ„λ²„ μ „μ© ν‚¤, μ λ€ ν΄λΌμ΄μ–ΈνΈμ— λ…Έμ¶ κΈμ§€
)
```

## 3. ν™κ²½ λ³€μ μ„¤μ • (.env.local)
```env
NEXT_PUBLIC_SUPABASE_URL=your-project-url         # Supabase ν”„λ΅μ νΈ URL
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key   # μ„λΉ„μ¤ λ΅¤ ν‚¤ (κ΄€λ¦¬μ κ¶ν•)
```

- **NEXT_PUBLIC_SUPABASE_URL**: Supabase λ€μ‹λ³΄λ“ > **Settings > Data API > Project URL**μ—μ„ ν™•μΈ κ°€λ¥ν•©λ‹λ‹¤.  
  ![ν”„λ΅μ νΈ URL μ„μΉ](https://velog.velcdn.com/images/sunmins/post/9d3bbd16-455a-4169-8049-2ad1a2656f75/image.png)

- **SUPABASE_SERVICE_ROLE_KEY**: Supabase λ€μ‹λ³΄λ“ > **Settings > API keys > Legacy API Keys > service_role**μ—μ„ ν™•μΈ κ°€λ¥ν•©λ‹λ‹¤.  
  ![μ„λΉ„μ¤ λ΅¤ ν‚¤ μ„μΉ](https://velog.velcdn.com/images/sunmins/post/73cef5f2-0032-4663-ba87-07790cd7b690/image.png)

- μ„λΉ„μ¤ λ΅¤ ν‚¤λ” μ λ€ ν΄λΌμ΄μ–ΈνΈμ— λ…Έμ¶ν•μ§€ λ§μ•„μ•Ό ν•©λ‹λ‹¤.

---

## 4. API μ½”λ“μ—μ„ Supabase ν΄λΌμ΄μ–ΈνΈ μ‚¬μ©ν•κΈ°

```ts
import { supabase } from '@/lib/supabase'  // κ²½λ΅λ” ν”„λ΅μ νΈμ— λ§κ² μ΅°μ •

// supabase κ°μ²΄λ¥Ό μ΄μ©ν•΄ μ¤ν† λ¦¬μ§€ μ‘μ—…, DB μΏΌλ¦¬ λ“± κ°€λ¥ν•©λ‹λ‹¤.
```

## 5. μ”μ•½
lib/supabase.tsμ—μ„ ν΄λΌμ΄μ–ΈνΈλ¥Ό μƒμ„±ν•΄ μ¬μ‚¬μ©ν•©λ‹λ‹¤.

ν™κ²½λ³€μλ΅ ν”„λ΅μ νΈ URLκ³Ό μ„λΉ„μ¤ λ΅¤ ν‚¤λ¥Ό κ΄€λ¦¬ν•λ©°, λ³΄μ•μ„ μ„ν•΄ μ„λΉ„μ¤ λ΅¤ ν‚¤λ” μ„λ²„ μ „μ©μΌλ΅ μ‚¬μ©ν•©λ‹λ‹¤.

## π“ λ§λ¬΄λ¦¬ 
μ΄ κΈ€μ—μ„λ” Supabase ν΄λΌμ΄μ–ΈνΈ μ„¤μ •κ³Ό ν™κ²½ λ³€μ μ„Έν… λ°©λ²•μ„ λ‹¤λ¤μµλ‹λ‹¤.

μ΄λ―Έμ§€ μ—…λ΅λ“ API κµ¬ν„μ€ λ³„λ„μ μ‹λ¦¬μ¦μ—μ„ μμ„Έν λ‹¤λ£¨κ³  μμΌλ‹, μ•„λ λ§ν¬λ¥Ό μ°Έκ³ ν•΄ μ£Όμ„Έμ”.
- Next.js API Routeλ¥Ό λ§λ“¤μ–΄
- Supabase Storageμ— μ΄λ―Έμ§€λ¥Ό μ—…λ΅λ“ν•κ³ 
- Public URLμ„ DBμ— μ €μ¥ν•λ” λ°©λ²•

π‘‰ [Next.js + Supabaseλ΅ ν”„λ΅ν•„ μ΄λ―Έμ§€ μ—…λ΅λ“ API λ§λ“¤κΈ°](γ…‡γ…‡γ…‡)