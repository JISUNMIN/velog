### 비밀번호 입력창에 눈 아이콘 달기 (비밀번호 보기 기능 구현)

회원가입, 로그인 폼을 만들다 보면  
비밀번호 입력창 옆에 👁️ 눈 아이콘이 있어서  
**비밀번호를 텍스트로 볼 수 있는 기능**이 필요합니다.

오늘은 상태 관리(`useState`)와 컴포넌트화를 통해  
**비밀번호 보기 기능이 포함된 입력창 컴포넌트**를 만들어봅시다.

- **`react-hook-form`으로 데이터 바인딩과 유효성 검사를 처리**했으며, 
- **눈 아이콘은 `react-icons`를 활용**해 구현했습니다.

---

## 🎯 목표

- 비밀번호 입력창 오른쪽에 👁️ 아이콘 표시  
- 눈 아이콘 클릭 시 `••••` → 텍스트로 전환  
- 다시 클릭하면 `••••`로 복귀  
- `react-hook-form`과 함께 사용할 수 있도록

---

## ❓ 이걸 왜 컴포넌트로 만들까?

비밀번호 입력창은 로그인, 회원가입 등  
여러 곳에서 자주 쓰이기 때문에  
컴포넌트화 해두면 **재사용성과 유지보수**가 훨씬 좋아집니다.

---

## PasswordInput 컴포넌트

```tsx
import { useState } from "react";
import { FaLock, FaEye, FaEyeSlash } from "react-icons/fa";
import { UseFormRegister, FieldErrors } from "react-hook-form";

interface PasswordInputProps {
  register: UseFormRegister<any>;
  errors: FieldErrors;
  name: string;
  placeholder?: string;
}

export function PasswordInput({
  register,
  errors,
  name,
  placeholder,
}: PasswordInputProps) {
  const [showPassword, setShowPassword] = useState(false);

  return (
    <div className="flex items-center rounded-md px-3 py-2 text-sm text-gray-700 bg-white border border-gray-300 transition-colors duration-200 focus-within:border-gray-700">
      <FaLock className="text-brown-400 mr-2" />
      <input
        {...register(name)}
        type={showPassword ? "text" : "password"}
        placeholder={placeholder}
        className="flex-1 border-none p-0 focus:outline-none focus:ring-0 bg-transparent"
      />
      <button
        type="button"
        onClick={() => setShowPassword(!showPassword)}
        className="ml-2 text-gray-500 hover:text-gray-700"
        aria-label={showPassword ? "비밀번호 숨기기" : "비밀번호 보기"}
      >
        {showPassword ? <FaEyeSlash /> : <FaEye />}
      </button>
    </div>
  );
}
```


## 🤔 컴포넌트를 두 번 쓰면 상태는 공유될까?

비밀번호 입력창은 보통  
- 비밀번호  
- 비밀번호 확인  

두 개를 사용합니다.  
그렇다면 아래처럼 같은 컴포넌트를 두 번 쓰면,  
`showPassword` 상태가 서로 공유될까요?

```tsx
<PasswordInput name="password" ... />
<PasswordInput name="passwordConfirm" ... />
```


아닙니다.
React 컴포넌트는 각 인스턴스마다 상태가 분리됩니다.  
따라서 `useState`로 선언한 `showPassword`도  
각각의 입력창에서 독립적으로 동작합니다.

- ✅ 비밀번호만 보기  
- ✅ 비밀번호 확인만 보기  

각각 따로 조작 가능합니다.

## 💡 사용 예시

```tsx
<PasswordInput
  register={register}
  name="password"
  placeholder="비밀번호"
  errors={errors}
/>

<PasswordInput
  register={register}
  name="passwordConfirm"
  placeholder="비밀번호 확인"
  errors={errors}
/>
```
각 컴포넌트는 독립적으로 동작하며,
눈 아이콘도 각각 따로 토글됩니다.

react-hook-form을 사용하면 register와 errors로
데이터 바인딩과 유효성 검사도 쉽게 처리할 수 있습니다.

## ❓ react-hook-form을 꼭 알아야 할까?

비밀번호 보기 기능 자체는  
`react-hook-form`을 몰라도 구현할 수 있습니다.

`react-hook-form`은 주로

- 폼 데이터 전송  
- 유효성 검사  
- 에러 메시지 처리  

등의 역할을 하기 때문에,  
이 기능에 익숙하지 않아도 비밀번호 보기 기능은 무리 없이 구현할 수 있습니다.  
하지만 `react-hook-form`은 React를 사용하는 프론트엔드 개발자라면  
알아두면 좋은 유용한 라이브러리여서 시리즈로 정리할 예정입니다.

---

## ✅ 마무리

- 비밀번호 보기/숨기기 기능이 있는 `PasswordInput` 컴포넌트를 만들었고  
- `react-hook-form`과 함께 사용할 수 있게 구성했습니다. (데이터 바인딩, 유효성 검사 처리)
- 동일 컴포넌트를 여러 번 사용해도 상태는 충돌하지 않고 독립적으로 작동합니다.  

또한 여러 곳에서 사용되는 공통 UI를 컴포넌트로 분리해두면,  
여러 화면에서 쉽게 재사용할 수 있어 유지보수가 훨씬 편해집니다.





