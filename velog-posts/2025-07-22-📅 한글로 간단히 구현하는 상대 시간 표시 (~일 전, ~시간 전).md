댓글 입력 시 보통 작성 시간이 아닌, 현재 시간부터 얼마나 지났는지를 나타내는 `‘~일 전’, ‘~초 전’` 같은 상대 시간을 오른쪽에 자주 표시합니다.  
저도 이 기능을 간단히 구현해보았는데, 불필요하게 용량이 커지는 것을 피하기 위해 라이브러리를 사용하지 않고 직접 만들었습니다.

---

## 🕒 상대 시간 표시가 필요한 이유

- 정확한 날짜 대신 상대 시간을 보여주면 사용자 입장에서 시간이 직관적으로 와닿습니다.  
- 소셜 미디어, 댓글, 알림 등 **실시간으로 변하는 콘텐츠**에 자주 활용됩니다.

## 🛠 상대 시간 계산 함수 

```ts
export function getTimeAgo(date: Date | string): string {
  const now = new Date();
  const inputDate = new Date(date);
  const diff = Math.floor((now.getTime() - inputDate.getTime()) / 1000); // 초 단위 차이

  if (diff < 60) return "방금 전";
  if (diff < 3600) return `${Math.floor(diff / 60)}분 전`;
  if (diff < 86400) return `${Math.floor(diff / 3600)}시간 전`;
  if (diff < 604800) return `${Math.floor(diff / 86400)}일 전`;

  // 일주일 이상이면 날짜로 표시
  return inputDate.toLocaleDateString("ko-KR", {
    year: "numeric",
    month: "short",
    day: "numeric",
  });
}

```
- 현재 시간과 비교해 초 단위로 차이를 구합니다.
- 1분 미만은 ‘방금 전’으로, 1분 이상부터 1시간 미만은 분 단위, 1시간 이상부터 1일 미만은 시간 단위, 1일 이상 7일 미만은 일 단위로 표시합니다.
- 7일 이상일 경우에는 날짜를 한국어 형식으로 출력합니다.

## ⚙️ 사용 예시
```tsx
<span className="text-xs text-gray-400">
  {getTimeAgo(comment.createdAt)}
</span>
```
댓글이나 게시물 작성 시간에 이 함수를 적용해 상대 시간을 화면에 보여줍니다.

![](https://velog.velcdn.com/images/sunmins/post/a5b81e46-8941-43e3-832f-7ffe7cd43175/image.png)

---

## 📚 참고

### Date 객체와 getTime() 메서드 차이

```ts
const now = new Date(); // 2025-07-22T04:00:00.000Z (Date 객체)
const timestamp = now.getTime(); 
// 1753459200000 (1970년 1월 1일부터 현재까지 경과한 밀리초 숫자, number 타입)

```

- **Date 객체**는 날짜와 시간 정보를 포함하는 객체입니다.  
- **getTime()**은 Date 객체를 1970년 1월 1일 00:00:00 UTC 기준으로부터 경과한 밀리초 단위의 숫자로 반환합니다.

#### 언제 Date 객체를 쓸까?
날짜/시간 자체를 표현하거나 조작할 때  
예: 특정 날짜 생성, 포맷팅, 요일/월/년 추출, 문자열 변환 등  
- 사람에게 보여줄 날짜를 만들 때 (예: `toLocaleString()`, `toISOString()` 등 사용)  
- 날짜끼리 비교할 때 (단순히 크거나 작은지), 날짜 연산 시 간단히 쓸 수도 있음  

#### 언제 getTime()을 쓸까?
두 날짜 간의 시간 차이를 계산할 때  
- 숫자 타입으로 시간을 저장하거나 비교할 때 (DB 타임스탬프, 밀리초 단위 연산)  
- 정렬, 필터링, 범위 체크 같은 연산 시 효율적으로 처리하려고 할 때  


> #### 타임스탬프(Timestamp)란?  
타임스탬프는 특정 시점을 기준으로 경과한 시간을 숫자로 표현한 값입니다.  
예) `1753459200000`은 1970년부터 몇 밀리초가 지났다는 뜻입니다.

> #### `toLocaleString()`과 `toISOString()` 차이
- `toLocaleString()`은 **사용자 친화적 표시용** 
사용자의 로케일(지역) 설정에 맞게 날짜와 시간을 사람이 읽기 좋은 형식으로 변환합니다.  
한국 로케일일 경우 `"2025. 7. 22. 오후 1:00:00"` 처럼 표시됩니다.   
지역별 날짜/시간 표기법에 따라 다르게 출력됩니다.
- `toISOString()`은 **표준화된 데이터 교환용**
ISO 8601 표준에 맞는 날짜/시간 문자열을 고정 형식으로 반환합니다.  
항상 UTC 기준이며, `"2025-07-22T04:00:00.000Z"` 와 같이 국제적으로 표준화된 포맷을 제공합니다.
주로 API 통신이나 데이터 저장 시 표준화된 형식이 필요할 때 사용합니다.


---
## 📝 마치며
한글 시간만 필요해서, 불필요하게 라이브러리 용량이 커지는 것을 피하기 위해 직접 구현했습니다.
필요에 따라 직접 구현하거나, 국제화나 다양한 포맷이 필요하면 라이브러리를 활용하는 것을 추천합니다.
