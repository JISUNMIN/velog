- HTTP í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬
- í´ë¼ì´ì–¸íŠ¸(ë¸Œë¼ìš°ì €)ì—ì„œ API ì„œë²„(ë˜ëŠ” ë°±ì—”ë“œ)ë¡œ HTTP ìš”ì²­ ë³´ë‚¼ ë•Œ ì‚¬ìš©
- ì„œë²„ APIë¥¼ í˜¸ì¶œí•˜ëŠ” ì—­í• 
=> **HTTP ìš”ì²­ìš©ìœ¼ë¡œ fetchì™€ ê°™ì€ ê¸°ëŠ¥**

âœ… 1. Axiosì™€ fetchì˜ ì£¼ìš” ì°¨ì´ì  ìš”ì•½

| í•­ëª©         | `fetch` (ê¸°ë³¸ ë‚´ì¥ API)      | `axios` (ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬)                    |
| ---------- | ---------------------------- | ------------------------------------- |
| ë‚´ì¥ ì—¬ë¶€      | âœ… ë¸Œë¼ìš°ì € ë‚´ì¥ (ì¶”ê°€ ì„¤ì¹˜ ë¶ˆí•„ìš”)    | âŒ ì„¤ì¹˜ í•„ìš” (`npm install axios`)         |
| ì‘ë‹µ ìƒíƒœ ì²˜ë¦¬   | ì§ì ‘ `res.ok(response statusê°€ 200~299ì¸ì§€ true/false)`, `res.status(ì‘ë‹µ ìƒíƒœ ì½”ë“œ ex)200,400...)` í™•ì¸ | ì˜¤ë¥˜ ì‹œ ìë™ìœ¼ë¡œ `catch`ë¡œ ì´ë™                 |
| JSON íŒŒì‹±    | `res.json()` ì§ì ‘ í˜¸ì¶œí•´ì•¼ í•¨ ex) const data = await res.json();       | ì‘ë‹µì„ ë°›ì•„ì„œ ìë™ìœ¼ë¡œ `res.data`ì— JSON íŒŒì‹±ë¨             |
| ìš”ì²­ ì·¨ì†Œ      | `AbortController` ì‚¬ìš©í•´ì•¼ í•¨     | `CancelToken` ë˜ëŠ” `AbortController` ì‚¬ìš© |
| ê¸°ë³¸ ì„¤ì •      | ì—†ìŒ                           | `baseURL`, ê³µí†µ headers ì„¤ì • ê°€ëŠ¥           |
| ìš”ì²­/ì‘ë‹µ ì¸í„°ì…‰í„° | âŒ ë¶ˆê°€ëŠ¥                        | âœ… `interceptors` ì§€ì›                   |
| êµ¬í˜• ë¸Œë¼ìš°ì € ì§€ì› | âŒ í•„ìš” ì‹œ polyfill í•„ìš”           | âœ… ë‚´ë¶€ì ìœ¼ë¡œ ëŒ€ì‘ë¨                           |
âœ… ì¸í„°ì…‰í„°ëŠ” ì™œ í•„ìš”í• ê¹Œ?

"**ì¤‘ê°„ì—ì„œ ê°€ë¡œì±„ì„œ ì²˜ë¦¬í•˜ëŠ” ë¡œì§**"
- ëª¨ë“  ìš”ì²­ì— í† í°ì„ ìë™ìœ¼ë¡œ ì¶”ê°€í•˜ê³  ì‹¶ë‹¤
- ì‘ë‹µì—ì„œ ê³µí†µ ì—ëŸ¬ ì²˜ë¦¬(ì˜ˆ: í† í° ë§Œë£Œ, 401 ë“±)ë¥¼ í•˜ê³  ì‹¶ë‹¤
- ìš”ì²­ì„ ë³´ë‚´ê¸° ì „ ë°ì´í„°ë¥¼ ë³€í˜•í•˜ê±°ë‚˜, ì‘ë‹µì„ ê°€ê³µí•˜ê³  ì‹¶ë‹¤
- ì¸í„°ì…‰í„°ëŠ” í•œ ê³³ì—ì„œ í•œë²ˆë§Œ ì„¤ì •í•´ì„œ ëª¨ë“  API ìš”ì²­ê³¼ ì‘ë‹µì„ ì²˜ë¦¬í•´ì•¼í•¨

```
      // ìš”ì²­ ì¸í„°ì…‰í„°
      this.instances[BASE_URL].interceptors.request.use(
        (config) => {
          // í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•œ í† í°ì´ ìˆì„ ê²½ìš° í—¤ë”ì— ì¶”ê°€
          const token = this.tokenMap[BASE_URL];
          if (token) {
            config.headers['x-admin-auth-token'] = token;
          }
          return config;
        },
        (error) => {
          return Promise.reject(error);
        },
      );

      // ì‘ë‹µ ì¸í„°ì…‰í„°
      this.instances[baseURL].interceptors.response.use(
        (response) => {
          return response;
        },
        (error) => {
          const unauthorized = error.status === 401;
          console.log('unauthorized', error);
          console.log('unauthorized', baseURL);
          if (unauthorized) {
            this.refreshToken('/api/1.0/admin/user/refreshToken');
          }
          return Promise.reject(error);
        },
      );
```

âœ… res.status

| ìƒíƒœ ì½”ë“œ | ì˜ë¯¸                            |
| ----- | ----------------------------- |
| 200   | OK (ì„±ê³µ)                       |
| 201   | Created (ìƒì„±ë¨)                 |
| 400   | Bad Request (ì˜ëª»ëœ ìš”ì²­)          |
| 401   | Unauthorized (ì¸ì¦ ì‹¤íŒ¨)          |
| 403   | Forbidden (ì ‘ê·¼ ê¸ˆì§€)             |
| 404   | Not Found (ê²½ë¡œ ì—†ìŒ)             |
| 500   | Internal Server Error (ì„œë²„ ì˜¤ë¥˜) |


ì‹¤ë¬´ì—ì„œ ë” ë§ì´ ì“°ëŠ” ê±´?
ğŸ“Š **axiosê°€ ì‹¤ë¬´ì—ì„œ ë” ë§ì´ ì‚¬ìš©ë¨**
- íŒ€ í”„ë¡œì íŠ¸ì—ì„œ ì‘ë‹µ ì¸í„°ì…‰í„°ë¥¼ ì‚¬ìš©í•´ ë¡œê·¸ì¸ í† í° ìë™ ì²˜ë¦¬ ë“± ê³µí†µ ë¡œì§ ê´€ë¦¬ê°€ ê°€ëŠ¥
- ì—ëŸ¬ ì²˜ë¦¬ êµ¬ì¡°ê°€ ì§ê´€ì 
- ë°±ì—”ë“œ APIì™€ ì—°ë™í•  ë•Œ ë°˜ë³µë˜ëŠ” ì„¤ì • (baseURL, withCredentials, headers ë“±) ê´€ë¦¬ê°€ ìš©ì´


ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ

**1. fetch **
```
  const onSubmit = async (data: LoginFormInputs) => {
    try {
      const res = await fetch("/api/auth/login", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          userId: data.userId,
          password: data.password,
        }),
      });

      if (!res.ok) {
        const errorData = await res.json();
        showToast({
          type: ToastMode.ERROR,
          action: "SAVE",
          content: errorData.error || "ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",
        });
        return;
      }

      const result = await res.json();
      login({ userId: result.userId }); // í•„ìš” ì‹œ í† í°ì´ë‚˜ ê¸°íƒ€ ì •ë³´ë„ ì €ì¥
      router.replace("/dashboard/kanban");
    } catch (error) {
      showToast({
        type: ToastMode.ERROR,
        action: "SAVE",
        content: "ì„œë²„ì™€ í†µì‹  ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",
      });
      console.error(error);
    }
  };
```

**2. Axios**
```
  const onSubmit = async (data: LoginFormInputs) => {
    try {
      const res = await axios.post("/api/auth/login", {
        userId: data.userId,
        password: data.password,
      });

      const result = res.data;
      login({ userId: result.userId }); // í•„ìš” ì‹œ í† í°ì´ë‚˜ ê¸°íƒ€ ì •ë³´ë„ ì €ì¥
      router.replace("/dashboard/kanban");
    } catch (error) {
      const message =
        error.response?.data?.error || "ì„œë²„ì™€ í†µì‹  ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.";

      showToast({
        type: ToastMode.ERROR,
        action: "SAVE",
        content: message,
      });
      console.error(error);
    }
  };
```

ê²°ë¡ : Axiosë¥¼ ì“°ë©´ ìš”ì²­Â·ì‘ë‹µ ì²˜ë¦¬ ì½”ë“œê°€ ê°„ë‹¨í•´ì§€ê³ , ì¤‘ë³µë„ ì¤„ì–´ë“¤ì–´ ê´€ë¦¬ê°€ í¸í•´ì§
