## ğŸ›  paramsëŠ” ì´ì œ Promiseì…ë‹ˆë‹¤

Next.js 15 ë²„ì „ì—ì„œ API ë¼ìš°íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë§Œë“¤ê³  `next build`ë¥¼ ëŒë¦¬ë˜ ì¤‘,  
ë¹Œë“œ ìì²´ê°€ ì‹¤íŒ¨í•˜ëŠ” ì˜¤ë¥˜ë¥¼ ë§ˆì£¼í–ˆìŠµë‹ˆë‹¤.  

VSCodeì—ì„œëŠ” íƒ€ì… ì˜¤ë¥˜ê°€ ì—†ì—ˆì§€ë§Œ,  
ë¹Œë“œ íƒ€ì„ì—ë§Œ ë°œìƒí•˜ëŠ” ì´ ë¬¸ì œì˜ ì›ì¸ê³¼ í•´ê²° ê³¼ì •ì„ ì •ë¦¬í•´ë´…ë‹ˆë‹¤.

---

## â— ì—ëŸ¬ ë‚´ìš©

ë¹Œë“œ ì‹œ ì•„ë˜ì™€ ê°™ì€ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤:
```
.next/types/app/api/projects/[projectId]/kanban/route.ts:49:7
Type '{ projectId: string; }' is missing the following properties from type 'Promise<any>': then, catch, finally...
```

`params`ì— `then`, `catch`ê°€ ì—†ë‹¤ëŠ” ê±´ ì¦‰, **Promiseê°€ ì•„ë‹Œ ê°’ì„ ì‚¬ìš©í–ˆë‹¤ëŠ” ëœ»**ì…ë‹ˆë‹¤.

## ğŸ§© ì›ì¸

Next.js 15ë¶€í„°ëŠ” `params`, `searchParams`, `segment` ë“±ì˜ **Route Context ê°’ì´ ë¹„ë™ê¸°(Promise)ë¡œ ê°ì‹¸ì ¸ ì „ë‹¬**ë©ë‹ˆë‹¤.

```ts
app/api/route.ts

// Before
type Params = { slug: string }
 
export async function GET(request: Request, segmentData: { params: Params }) {
  const params = segmentData.params
  const slug = params.slug
}
 
// After
type Params = Promise<{ slug: string }>
 
export async function GET(request: Request, segmentData: { params: Params }) {
  const params = await segmentData.params
  const slug = params.slug
}
```

ì¦‰, ê¸°ì¡´ì²˜ëŸ¼ ì•„ë˜ì™€ ê°™ì´ ë‹¨ìˆœ ê°ì²´ë¡œ ë°›ìœ¼ë©´:

```ts
{ params }: { params: { projectId: string } } // âŒ
```

íƒ€ì… ì‹œìŠ¤í…œì€ "ì´ê±´ Promiseì—¬ì•¼ í•˜ëŠ”ë° ì™œ ê·¸ëƒ¥ ê°ì²´ì•¼?"ë¼ê³  ë¹Œë“œ ì˜¤ë¥˜ë¥¼ ë˜ì§‘ë‹ˆë‹¤.


## âœ… í•´ê²° ë°©ë²•
  
### ğŸ”§ ë³€ê²½ ì „
  ```js
  
export async function GET(
  req: NextRequest,
  { params }: { params: { projectId: string } }
) {
  const project = await prisma.project.findUnique({
    where: { id: Number(params.projectId) },
  });
}


  ```



### âœ… ë³€ê²½ í›„


```
 export async function GET(
  req: NextRequest,
  { params }: { params: Promise<{ projectId: string }> }
) {
  const { projectId } = await params;
  const project = await prisma.project.findUnique({
    where: { id: Number(projectId) },
  });
}

  ```
  
## ğŸ¤” ì™œ ì´ë ‡ê²Œ ë°”ë€Œì—ˆì„ê¹Œ?
Next.js 15ì—ì„œëŠ” ì„±ëŠ¥ ìµœì í™” ë° ìœ ì—°í•œ dynamic routingì„ ìœ„í•´ params ë“±ì˜ contextë¥¼ ì§€ì—° í‰ê°€(lazy evaluation) í•˜ë„ë¡ ë°”ë€Œì—ˆìŠµë‹ˆë‹¤.

ì´ë¡œ ì¸í•´** paramsëŠ” Promise ê°ì²´ê°€ ë˜ì—ˆê³ , await ì²˜ë¦¬ê°€ í•„ìˆ˜**ì…ë‹ˆë‹¤.

> ì§€ì—° í‰ê°€(lazy evaluation) 
â†’ "ì•„ì§ í•„ìš”í•˜ì§€ ì•Šìœ¼ë©´ êµ³ì´ ê°’ì„ ë§Œë“¤ì§€ ì•ŠëŠ”ë‹¤".
ì´ìœ ëŠ” ì„±ëŠ¥ ìµœì í™” + ë¼ìš°íŒ… ìœ ì—°ì„± ì¦ê°€



### ğŸ“ ì°¸ê³  ìë£Œ
ğŸ“˜ Next.js ê³µì‹ ë¬¸ì„œ - [How to upgrade to version 15](https://nextjs.org/docs/app/guides/upgrading/version-15)
ğŸ’¬ [StackOverflow](https://stackoverflow.com/questions/79124951/type-error-in-next-js-route-type-params-id-string-does-not-satis) ê´€ë ¨ ì´ìŠˆ ê²€ìƒ‰