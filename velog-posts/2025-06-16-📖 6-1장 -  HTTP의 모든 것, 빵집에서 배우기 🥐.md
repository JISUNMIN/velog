## HTTP(HyperText Transfer Protocol)란?
우리가 보는 웹 화면은 사실상 **HTTP 메시지**라고 해도 과언이 아닐 정도로, HTTP는 사용자와 가장 가까이 맞닿아 있는 프로토콜입니다.  
웹사이트에 주소만 입력하면 화면이 “짠”하고 나타난다고 생각할 수 있지만,  
그 이면에서는 클라이언트가 서버에 데이터를 요청하고,  
서버가 이에 대한 응답을 반환하며,  
HTML, CSS, 이미지 등의 자원을 받아서 이를 브라우저가 가공해 사용자에게 보여주는 과정이 들어 있습니다.

HTTP는 **클라이언트와 서버 간의 소통**을 담당하는 프로토콜입니다.  
이름에서 알 수 있듯이 HTML 같은 하이퍼텍스트만 통신할 수 있었으나,  
오늘날에는 이미지, 동영상 등 다양한 형식의 웹 자원도 전달할 수 있습니다.

---

## HTTP의 구조

HTTP는 **클라이언트/서버 모델**을 따릅니다.  
HTTP 메시지를 통해 통신하며 크게 다음과 같은 구조를 가집니다.

- 요청 메시지 (Request Message) : 클라이언트가 서버에 요청하는 메시지인 요청메시지
- 응답 메시지 (Response Message) : 클라이언트 요청을 해석한 서버가 응답하는 메시지

### 💡 예시) 카페에서의 주문서와 영수증

- 요청 메시지 = 손님이 점원에게 건넨 주문서  
- 응답 메시지 = 점원이 손님에게 건넨 영수증  

 **누가 누구에게 보낸 것이냐**에 따라 형태(양식)가 다릅니다.

---

## HTTP의 특징

### ✅ 상태를 가지지 않는 프로토콜 (Stateless)

> 한 번의 통신이 끝나면, 다음 통신에서는 **이전 정보를 알 수 없음**

### 💡 예시) 비연결성 중고거래

- 책을 구매하며: 안녕하세요~ 감사합니다~ 안녕히가세요
- 컵을 구매하며: 안녕하세요~ 감사합니다~ 안녕히가세요  
→ **같은 인사말을 반복**해야 함

이는 연결을 계속 유지할 때의 비용을 줄일 수 있지만,  
요청마다 새롭게 연결을 맺어야 하는 단점도 있습니다.  
※ 최근의 HTTP/1.1 부터는 이를 개선해 **지속 연결**이 가능하도록 함

---

# HTTP 메시지 구조

대화에도 서론-본론-결론의 구조가 있듯이, HTTP 메시지 또한 일정한 형식을 가지고 있습니다.

## 요청 메시지 구조

### 1. 요청라인
POST /http.html HTTP/1.1


- **요청 메서드**: `POST` → *무엇을 어떻게 처리할 것인지에 대한 방식*
- **경로**: `/http.html` → *어떤 대상을 처리할 것인지*
- **프로토콜 버전**: `HTTP/1.1` → *어떤 방식으로 통신할지*

> 현재는 HTTP/1.1과 보안성을 강화한 HTTP/2가 많이 사용됩니다.

---

### 2. 헤더
Host: www.test-http.com
User-Agent: Mozilla/5.0
Accept: text/html
Accept-Language: en-US, en;q=0.5


- **Host**: 요청 대상 서버
- **User-Agent**: 브라우저 및 클라이언트 정보
- **Accept**: 클라이언트가 수신 가능한 MIME 타입
- **Accept-Language**: 수신 가능한 언어

헤더 다음에는 **빈 줄**이 들어가며, 이는 헤더와 본문을 구분하기 위한 것입니다.

---

### 3. 본문
```
{
"nickName": "potato"
}
```


- 요청의 **추가 데이터**를 담는 부분
- 예: 회원가입 시 이름, 아이디 등의 정보 전송

---

## 응답 메시지 구조

### 1. 응답라인
HTTP/1.1 200 OK


- **프로토콜 버전**: HTTP/1.1  
- **상태 코드**: `200`  
- **상태 메시지**: `OK`

---

### 2. 헤더
Content-Type: text/html
Content-Length: 5


- 응답 본문에 대한 정보 제공

---

### 3. 본문
```html
<html>
  <body>
    <h1>hi</h1>
  </body>
</html>
```

클라이언트(브라우저)가 응답 본문을 렌더링하여 웹사이트를 구성합니다.

# HTTP 요청 메서드, 헤더, 상태 코드 정리

## 📌 요청 메서드란?

HTTP 요청 메서드는 **클라이언트가 서버에게 어떤 작업을 요청하는지**를 나타내는 방식입니다.
서버로부터 데이터를 받고싶은건지, 추가하고싶은지등 클라이언트의 목적을 한단어로 전달하기 위한 용도

> 예시:  
> "아이스티 1잔"이라는 말만 하면 주문인지, 환불인지 알 수 없음  
> → "주문합니다" 혹은 "환불해주세요"와 같이 **의도를 명확히 전달**해야 함  
> → 이것이 요청 메서드의 역할

---

## 📚 요청 메서드 종류

| 메서드 | 설명 |
|--------|------|
| `GET` | 데이터 조회 (읽기) |
| `HEAD` | 헤더만 조회 (본문 제외) |
| `POST` | 데이터 추가 |
| `PUT` | 데이터 전체 수정 (전체 교체) |
| `PATCH` | 데이터 일부 수정 |
| `DELETE` | 데이터 삭제 |
| `OPTIONS` | 사용 가능한 메서드 조회 |

---

## 🔁 PUT vs PATCH
> 예시) 닉네임이 감자인 유저를 고구마로 바꿔줘
PUT은 닉네임을 제외한 다른 데이터가 날라갈 수 있음

| 구분 | 설명 | 예시 |
|------|------|------|
| `PUT` | 전체 데이터 교체 | `이름: 고구마, 생년월일: ""` |
| `PATCH` | 일부 데이터만 수정 | `이름: 고구마, 생년월일: 12월 1일` |

---

## ✅ 안정성(Safe Method)

> 요청을 해도 **서버 자원이 변경되지 않는 특성**

| 안정성 있음 ✅ | 안정성 없음 ❌ |
|----------------|----------------|
| `GET`, `HEAD`, `OPTIONS` | `POST`, `PUT`, `PATCH`, `DELETE` |

---

## 🔁 멱등성(Idempotent)

> **같은 요청을 여러 번 보내도 결과가 동일한지**를 나타냄

| 멱등성 있음 ✅ | 멱등성 없음 ❌ |
|----------------|----------------|
| `GET`, `HEAD`, `OPTIONS`, `PUT`, `DELETE` | `POST`, `PATCH` |

### ❓ PATCH가 멱등하지 않은 이유
- `PATCH`: 일부만 수정 → **매번 요청 결과가 달라질 수 있음**
- 예시:
  - `이름을 오리로 바꿔줘`: 멱등 O
  - `나이를 1살 늘려줘`: 멱등 X

---

## 📦 HTTP 헤더란?

> 데이터에 대한 **추가 정보(metadata)**를 전달하는 용도

- **TCP/IP와 HTTP의 공통점**: 헤더가 있음
- 헤더는 **데이터 크기를 증가**시키므로 **필요한 정보만 최소한으로 포함**해야 함
- HTTP 헤더는 사람이 읽을 수 있는 **텍스트 형식**, 자유로운 구조

### TCP 헤더 vs HTTP 헤더

| 항목          | TCP 헤더                         | HTTP 헤더                                  |
|---------------|----------------------------------|---------------------------------------------|
| 형식          | **정해진 규격** 존재               | **비교적 자유로운 형식**                    |
| 읽기 형태     | 기계가 읽는 바이너리               | 사람이 읽을 수 있는 **텍스트 형태**         |
| 필수 여부     | 항상 존재                          | 없어도 통신 가능                            |
| 구성 방식     | 고정된 필드                        | `헤더명: 헤더값` 형태                       |
| 대소문자 구분 | 구분함                             | **대소문자 구분하지 않음**                  |

### 📍 확인 방법
> F12 → Network 탭 → 원하는 요청 선택 → Headers 탭 확인  
- `Request Headers`: 요청 시 보낸 헤더  
- `Response Headers`: 응답 시 받은 헤더

---

## 📑 HTTP 헤더의 종류

### 1. 공통 헤더 (General Header)
- `Date`: 메시지 날짜/시간
- `Cache-Control`: 캐싱 제어

### 2. 요청 헤더 (Request Header)
- `Host`: 요청 대상 호스트
- `User-Agent`: 브라우저, OS 정보

### 3. 응답 헤더 (Response Header)
- `Server`: 서버 종류
- `Location`: 리다이렉션 주소

### 4. 엔터티 헤더 (Entity Header)
- `Content-Length`: 본문 길이
- `Content-Type`: 미디어 타입
- `Content-Language`: 언어 정보

---

## 🔢 상태 코드(Status Code)란?

> **HTTP 요청 처리 결과**를 숫자로 알려주는 것

### 📚 상태 코드 분류

| 범위 | 설명 |
|------|------|
| `1xx` | 정보 응답 (처리 중) |
| `2xx` | 성공 |
| `3xx` | 리다이렉션 (이동) |
| `4xx` | 클라이언트 오류 |
| `5xx` | 서버 오류 |

---

### ✅ 2xx: 성공

| 코드 | 의미 | 예시 |
|------|------|------|
| `200 OK` | 요청 성공 | 도넛 있어요 |
| `201 Created` | 자원 생성됨 | 소금빵 새로 만들었어요 |
| `204 No Content` | 본문 없음 | 응답 내용 없이 성공 |

---

### 🔁 3xx: 리다이렉션

| 코드 | 의미 |
|------|------|
| `301 Moved Permanently` | 영구 이동 |
| `302 Found` | 일시적 이동 |

---

### ❌ 4xx: 클라이언트 오류

| 코드 | 의미 | 예시 |
|------|------|------|
| `400 Bad Request` | 잘못된 요청 | 저희는 빵만 팔아요 |
| `401 Unauthorized` | 인증 필요 |
| `404 Not Found` | 존재하지 않음 | 오늘 소금빵 다 팔렸어요 |

---

### 💥 5xx: 서버 오류

| 코드 | 의미 | 예시 |
|------|------|------|
| `500 Internal Server Error` | 서버 내부 문제 | 오븐 고장났어요 |
| `502 Bad Gateway` | 게이트웨이 오류 | 본사에서 빵이 안 왔어요 |

---

### 🥐 베이커리로 보는 HTTP 상태 코드 예시 

| 질문                          | 응답 내용                           | 상태 코드 |
|-----------------------------|------------------------------------|-----------|
| 지금 무슨 빵 있나요?             | 도넛 있어요                         | 200       |
| 소금빵 새로 만들어주세요         | 빵 생성 완료                        | 201       |
| 제육덮밥 하나요?                | 저희는 빵만 팔아요                  | 400       |
| 소금빵 있나요?                 | 오늘 다 팔려서 없습니다             | 404       |
| 있나요?                       | 오븐이 망가져서 장사를 못해요       | 500       |
| 빵 있나요?                    | 본사에서 빵이 도착하지 않았어요     | 502       |


## ✅ 요약 정리
HTTP는 클라이언트와 서버 간의** 데이터 전송**을 담당하는 프로토콜입니다.
HTTP 메시지는** 요청과 응답**으로 구성되며, 각각 **헤더와 본문을 포함**합니다.
주요 HTTP 요청 메서드로는 **GET, POST, PUT, DELETE**가 있습니다.
HTTP는 상**태를 가지지 않는(Stateless) 프로토콜**로, 매번 새로운 연결을 맺어야 합니다.
상태 코드는 요청 결과를 나타내며, **2xx는 성공, 4xx는 클라이언트 오류, 5xx는 서버 오류**를 의미합니다.






