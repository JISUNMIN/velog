## IP란?

IP(Internet Protocol)는 인터넷에서 데이터를 주고받을 때 사용하는 통신 규약입니다.  
정확히는 패킷을 목적지까지 운반하기 위해 사용되며, **패킷을 정해진 목적지까지 전달하는 것**이 IP의 주된 역할입니다.  
IP는 마치 **안내데스크**처럼 경로만 알려줄 뿐, 패킷의 상태(손실, 중복 등)는 확인하지 않습니다.

> 택배에 비유하자면, 상자 안의 내용물이나 도착 시 수신자 유무는 확인하지 않는 방식입니다.

이러한 특징 때문에 IP는 다음과 같은 성질을 가집니다:

- **비신뢰성(Unreliable)**: 전달 실패 여부를 확인하지 않음  
- **비연결성(Connectionless)**: 사전 연결 설정이 필요 없음

---

## 패킷이란?

모든 데이터는 전송 전에 **패킷이라는 작은 조각**으로 나누어집니다.  
이렇게 나누는 이유는, 큰 데이터를 통째로 보내다가 회선에 문제가 생기면 전체를 다시 보내야 하므로 자원이 낭비되기 때문입니다.  

이를 **패킷 교환 방식**이라 하며, 다음과 같은 특징이 있습니다:

- 각 패킷은 **최적의 경로**를 선택해 전송됨  
- 회선의 **혼잡도, 연결 상태**를 고려해 경로 선택  
- **회선 자원의 효율적 사용** 가능  
- 특정 경로에 문제가 생겨도 **다른 경로로 대체 가능**

> IP에서 다룰 수 있는 **최대 패킷 크기**는 약 **65KB**입니다.

---

## IP 주소란?

IP는 목적지까지 패킷을 전달하는 것이 목표이며, 이를 위해 **주소 지정 방식**이 필요합니다.  
즉, IP 주소는 **패킷의 목적지를 구분**하기 위한 **식별자 역할**을 합니다.

### 내 IP 주소 확인법

- Windows: `ipconfig`  
- macOS/Linux: `ifconfig`

---

## IPv4

IPv4는 우리가 흔히 보는 `192.168.0.1`처럼 **'.'으로 구분된 네 개의 숫자**로 구성되어 있습니다.  
- 각 숫자는 **0~255** 사이의 값  
- 총 **32비트**, 8비트씩 4개 → **옥텟(Octet)** 이라 부름

---

## 네트워크 주소와 호스트 주소

IP 주소는 **네트워크 부분**과 **호스트 부분**으로 나뉩니다.

- **네트워크**: 같은 공유기를 사용하는 범위
- **호스트**: 해당 네트워크에 연결된 장치

> 예시: `192.168.123.132`  
> - 네트워크: `192.168.123`  
> - 호스트: `132`

단, 마지막 옥텟에서:
- `0`: 네트워크 자체 주소  
- `255`: **브로드캐스트 주소** (해당 네트워크 전체에 전달)

⇒ **실제 호스트는 1~254까지 사용 가능**

---

## 브로드캐스트 주소란?

특정 네트워크에 속한 **모든 호스트에게 패킷을 전달**할 때 사용되는 주소입니다.  
> 예시: 경비실 방송, 전체 공지 등

---

## 클래스(Class)란?

IPv4 주소는 **네트워크와 호스트의 구분 위치가 고정되지 않음**  
→ 주소 낭비를 방지하기 위해 **클래스 구조** 도입

### 주요 클래스

| 클래스 | 네트워크 비트 | 호스트 수       | 옥텟 범위    |
|--------|----------------|----------------|---------------|
| A      | 첫 번째 옥텟   | 약 1,600만 개  | 0~127         |
| B      | 두 번째 옥텟   | 약 6만 6천 개  | 128~191       |
| C      | 세 번째 옥텟   | 약 250개       | 192~223       |

---

## 클래스의 한계와 CIDR

클래스는 할당 단위가 크다 보니, 주소 낭비 또는 부족 문제가 발생했습니다.  
특히 B클래스는 빠르게 소진됨

→ 이를 해결하기 위해 등장한 방식이 **CIDR (Classless Inter-Domain Routing)**

- 네트워크/호스트 경계를 유동적으로 설정  
- 보다 정밀한 주소 할당 가능

### CIDR 표기법 예시

IP 주소: 192.168.10.1
서브넷 마스크: 255.255.255.0
바이너리: 11111111.11111111.11111111.00000000 → /24
CIDR 표기법: 192.168.10.1/24 <= 바이너리 변환값이 여기에 들어감

> CIDR은 서브넷 마스크와 함께 사용됨

---

## IPv4 주소 고갈

IPv4는 약 **43억 개 주소** 제공  
90년대 이후 인터넷 사용자 폭증 + 스마트폰 보급 → **주소 고갈 문제 발생**

---

## 해결 방안

### DHCP (Dynamic Host Configuration Protocol)

필요할 때만 IP를 임시 할당하는 방식  
- 일정 기간 사용 후 반납  
- 필요 시 연장 가능

> 예시)  
> "IP 주소가 필요해!"  
> "남는 IP 주소가… 여기 있어. 8일 뒤에 돌려줘."  
> (8일 뒤)  
> "연장해도 될까?" or "잘 썼어! 반납할게!"

### NAT (Network Address Translation)

사설 IP ↔ 공인 IP 변환  
- 인터넷 외부 통신 시 **공인 IP**로 변경  
- 다시 **사설 IP**로 반환

- **사설 IP**: 특정 네트워크 내에서만 사용되는 주소  
- **공인 IP**: 전 세계에서 유일하게 식별 가능한 주소

---

## IPv6의 등장

IPv4의 주소 부족을 해결하기 위해 **IPv6** 등장  
- **128비트 주소 체계**  
- 사실상 무한대  
- `:`로 구분된 여덟 개 블록

> IPv6는 NAT을 필요로 하지 않음(주소 고갈 문제가 없기 때문에)
하지만 아직 도입 속도가 느린 이유: 같은 IP지만 다른 체계 이기 때문에 새로 네트워크를 구축해야하기 함(비용 문제)

