Next.jsì—ì„œ API ë¼ìš°íŠ¸ë¥¼ ë§Œë“¤ë‹¤ ë³´ë©´ `params`ì™€ `body`ë¥¼ í˜¼ë™í•˜ê¸° ì‰½ìŠµë‹ˆë‹¤.

ì € ì—­ì‹œ APIë¥¼ ë§Œë“¤ë˜ ì¤‘ í´ë¼ì´ì–¸íŠ¸ì—ì„œ axios.put()ì„ ì‚¬ìš©í•´ ë°ì´í„°ë¥¼ ë³´ëƒˆëŠ”ë°, ì´ ë°ì´í„°ë¥¼ ì„œë²„ì—ì„œ paramsë¡œ ë°›ìœ¼ë ¤ê³  í–ˆë‹¤ê°€ undefinedê°€ ë˜ëŠ” ìƒí™©ì„ ê²ªì—ˆìŠµë‹ˆë‹¤. 

ì°¾ì•„ ë³´ë‹ˆ paramsì™€ bodyëŠ” ì„œë¡œ ì™„ì „íˆ ë‹¤ë¥¸ ì—­í• ì„ í•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤.

ì´ë²ˆ ê¸€ì—ì„œëŠ” API ê²½ë¡œì— í¬í•¨ëœ URL íŒŒë¼ë¯¸í„°(params) ì™€ ìš”ì²­ ë³¸ë¬¸ì— í¬í•¨ëœ body ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ êµ¬ë¶„í•˜ê³  ì²˜ë¦¬í•´ì•¼ í•˜ëŠ”ì§€ ì •ë¦¬í•´ë³´ê² ìŠµë‹ˆë‹¤.



## âœï¸ ê¸°ë³¸ ê°œë… ì •ë¦¬

| êµ¬ë¶„ | ë°©ì‹ |
|------|------|
| **URL param** | `/api/tasks/:taskId` â†’ `params.taskId` ë¡œ ë°›ìŒ |
| **body param** | `axios.put(url, { title, desc, status })` â†’ `await req.json()` ìœ¼ë¡œ ë°›ìŒ |

---

## ğŸ’¡ ì˜ˆì‹œ ìƒí™©

í”„ë¡ íŠ¸ì—”ë“œì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ axios.put()ì„ í˜¸ì¶œí•˜ë©° ë°ì´í„°ë¥¼ í•¨ê»˜ ì „ë‹¬í•˜ì˜€ìŠµë‹ˆë‹¤.

```ts
await axios.put(`/api/tasks/3`, {
  title: "ì œëª© ìˆ˜ì •",
  desc: "ì„¤ëª… ìˆ˜ì •",
  status: "DOING",
});
```


## ğŸš« ì²˜ìŒ ì‹œë„í•œ ë°©ì‹ (ì˜ëª»ëœ ë°©ì‹)

```.js
export async function PUT(
  req: NextRequest,
  {
    params,
  }: {
    params: Promise<{
      taskId: string;
      title: string;
      desc: string;
      status: string;
    }>;
  }
) {
  const { taskId, title, desc, status } = await params; // âŒ paramsë¡œ bodyë¥¼ ë°›ìœ¼ë ¤ í•¨
}
```

## âœ… ì˜¬ë°”ë¥¸ ì²˜ë¦¬ ë°©ì‹

```js
export async function PUT(
  req: NextRequest,
  { params }: { params: { taskId: string } }
) {
  const { taskId } = params;
  const { title, desc, status } = await req.json(); // âœ… body íŒŒì‹±

  const updatedTask = await prisma.task.update({
    where: { id: Number(taskId) },
    data: { title, desc, status },
  });

  return NextResponse.json(updatedTask, { status: 201 });
}
```


## ğŸ“¦ Next.js App Router: `req.json()` vs `params` ì°¨ì´ ì •ë¦¬

| í•­ëª©     | ì„¤ëª…                                                                 |
|----------|----------------------------------------------------------------------|
| `req.json()` | HTTP ìš”ì²­ì˜ bodyì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ë•Œ ì‚¬ìš© (`POST`, `PATCH` ë“±)      |
| `params`     | URL ê²½ë¡œ(`/api/.../[id]`)ì—ì„œ ë™ì  íŒŒë¼ë¯¸í„°ë¥¼ ì¶”ì¶œí•  ë•Œ ì‚¬ìš©          |


## ì‚¬ìš© ì˜ˆì‹œ

### 1. ì „ì²´ í”„ë¡œì íŠ¸ ìˆœì„œ ë³€ê²½ API (`PATCH /api/projects/reorder`)

```ts
// app/api/projects/reorder/route.ts

import { NextRequest, NextResponse } from "next/server";

export async function PATCH(req: NextRequest) {
  const body = await req.json(); // body: { projectIds: [1, 2, 3, ...] }
  const { projectIds } = body;

  // TODO: projectIdsë¡œ ìˆœì„œ ì—…ë°ì´íŠ¸ ë¡œì§
  return NextResponse.json({ success: true });
}
```
```
PATCH /api/projects/reorder
Content-Type: application/json

{ "projectIds": [3, 1, 2] }
```
### 2. íŠ¹ì • í”„ë¡œì íŠ¸ ìˆ˜ì • API (PATCH /api/projects/[projectId])
```ts
// app/api/projects/[projectId]/route.ts

import { NextRequest, NextResponse } from "next/server";

export async function PATCH(
  req: NextRequest,
  { params }: { params: { projectId: string } }
) {
  const { projectId } = params;
  const body = await req.json(); // ì˜ˆ: { title: "ë³€ê²½ëœ ì´ë¦„" }

  // TODO: projectIdë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìˆ˜ì • ë¡œì§
  return NextResponse.json({ success: true });
}

```
```
PATCH /api/projects/123
Content-Type: application/json

{ "title": "ìƒˆ í”„ë¡œì íŠ¸ëª…" }
```

## ğŸ“Œ ìš”ì•½
**âœ… params URL ê²½ë¡œì— ìˆëŠ” ê°’**(/api/tasks/:taskId)ë§Œ ë‹¤ë£¹ë‹ˆë‹¤.
ì˜ˆ: /api/tasks/:taskId â†’ `params.taskId`ë¡œ ì ‘ê·¼
**âœ… req.json()** ì€ ìš”ì²­ ë³¸ë¬¸(body)ì— ë‹´ê¸´ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤. `axios.post, axios.put, axios.patch` ë“±ìœ¼ë¡œ ë³´ë‚¸ ë°ì´í„°ëŠ” **ë³¸ë¬¸(body) ì´ë¯€ë¡œ await req.json()ìœ¼ë¡œ ë°›ì•„ì•¼ í•©ë‹ˆë‹¤.**


| ì—­í•            | ë°ì´í„° ìœ„ì¹˜       | ì‚¬ìš© ì˜ˆì‹œ                         |
| ------------ | ------------ | ----------------------------- |
| `params`     | URL ê²½ë¡œ       | "ì–´ë–¤ í”„ë¡œì íŠ¸" (í”„ë¡œì íŠ¸ ID) ì§€ì •        |
| `req.json()` | ìš”ì²­ ë³¸ë¬¸ (body) | "í”„ë¡œì íŠ¸ ì´ë¦„, ì„¤ëª… ë“± ì‹¤ì œ ë³€ê²½í•  ë°ì´í„°" ì „ë‹¬ |

